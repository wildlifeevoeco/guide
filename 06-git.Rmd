# (PART) Open research {-} 
# Git

* how to avoid conflicts
* why use branches
* what is a pull/merge request
* commit before push/pull
* commit messages
* .gitignore

## Tags
We can add git "tags" to our commits, to keep track of specific versions or steps of a repository. 

For spatsoc and other packages, we can tag versions of the package:

![](images/git-eg-tag-pkg.png)

For papers, you can track stages of revisions:

![](images/git-eg-tag-manuscript.png)

To add a tag in GitAhead, just right click on the commit, add tag, then fill in the name (no spaces) and check "push to origin". Then you will be able to find the tags on gitlab
for example: [`wildcam` tags](https://gitlab.com/robit.a/wildcam/-/tags). 

## Blame and history

[Git Blame](https://docs.gitlab.com/ee/user/project/repository/git_blame.html) and [Git History](https://docs.gitlab.com/ee/user/project/repository/git_history.html) can be used to get information about when files were changed and by who. 

For example: head over to GitLab.com and browse to one of your files. Open it up and select "history". You will all the times the file was changed, and selecting any of the commits will show you what it looked like at that point. 

![](images/git-history.png)

Alternatively, you can use select "blame" to show who changed each line in a file and at which commit. 

![](images/git-blame.png)

## Issues

Issues are a tool available on GitLab and GitHub for collaborating on projects, getting help and tracking decisions. They are used extensively in the FOSS world and are often the way `R` package developers opt to receive bug reports and feature requests from their users.

Issues can be used for both **personal** and **group** projects. Some uses include:

* collaborating
* developing methods
* troubleshooting code
* tracking decisions or assumptions
* defining thresholds, variables
* reporting bugs
* requesting new features

Issues have a number of advantages over private email, in-person conversations and TODO, NOTE and other comments embedded in code because they:

* track history
* are easily searched
* can be grouped or categorized using labels
* can be assigned to individuals, groups or teams
* keep everyone in the loop
* are a resource for future users (including yourself!)

### Example issues
#### Bug or troubleshooting
> I'm trying to do this and it isn't working

```{r, eval = FALSE}
# Some concise title
(One/two sentence description summarizing issue. )

## Steps to reproduce
(How one can reproduce the issue)
1.
2.
3.

## Observed behaviour

## Expected behaviour

## Sample of output tables, screenshots

## Possible fixes

## Session info
(if R related, paste the results of sessionInfo())
```

#### Method development
> I'd like to try and do this

```{r, eval = FALSE}
# Some concise title
(One/two sentence description summarizing the objective. )

## Description
(Include goals, use cases, benefits)

## Progress
(Where did you get?)

## Next steps
(How do you think we could solve it? Who can you assign
  this issue to? Who can you mention to get their input?)

```

**And once solved, post the code that actually solved it**. This is one of the main ways that Issues can be useful to future users.



## Slides {#git-slides}
Workshop: Git and Projects

Date: February 6 2020

[Slides](https://slides.robitalec.ca/git-and-projects.html) and  [Resources](https://gitlab.com/robit.a/workshops/-/archive/master/workshops-master.zip?path=git-and-projects)


```{r, echo = FALSE}
knitr::include_url('https://slides.robitalec.ca/git-and-projects.html')
```


## Resources {#git-resources}
https://docs.gitlab.com/ee/user/project/issues/

[Happy Git With R](https://happygitwithr.com/)

